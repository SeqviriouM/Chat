<!DOCTYPE html>
<html lang="en" ng-app="Chat">
  <head>

    <title>Chat</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="library/ng-dialog/css/ngDialog.css" rel="stylesheet">
    <link href="library/ng-dialog/css/ngDialog-theme-default.css" rel="stylesheet">
    <link href="library/ng-dialog/css/ngDialog-theme-flat.css" rel="stylesheet">
    <link href="library/pnotify/pnotify.custom.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">


    <!-- Scripts -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular-route.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular-resource.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="library/ng-dialog/js/ngDialog.min.js"></script>
    <script src="library/pnotify/pnotify.custom.min.js"></script>
    <script src="js/components/pageslider.js"></script>
    <script src="js/main.js"></script>
    
  </head>

  <body>

  <script>
  // Function to return user's nickname
    function getNick() {
      return <%- nick %>;
    }
  </script>

    
    <div class="container">
      <div class="navigation" ng-controller="TopNavigation">
        <ul class="menu">
          <li class="active"><a href="#chat">Chat </a></li>
          <li><a href="#users_online"> Users Online </a></li>
          <li><a href="#profile"> My profile </a></li>          
        </ul>

        <% if(nick === '"root"') { %>
          <a href="#console" id="console" ng-click="openDialog()">Console</a>
        <% } %>  

      </div>

      <div class="chat">
        <h1> Chat </h1>
        <div class="output-section">
          <div id="messages-area">
            <div class="load-more-wrapper">
              <a href="" id="load-more-messages" class="load-more-messages"> Load More </a>
            </div>
            <div id="messages">
            </div>
          </div>
          <div id="users-online-section">
            <h3>Users online: </h3>
            <div class="users-online" ng-controller="UsersOnlineController">
              <!-- <p ng-repeat="user in users">{{user}}</p> -->
              <!-- <p>{{users}}</p> -->
            </div>
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="input-section">
          <div class="form-group input-field">
            <input type="text" class="form-control" id="input-text" placeholder="Place some text">
            <button class="btn btn-success" id="send">Send</button>           
          </div>
        </div>
      </div>

      <div ng-view></div>
    </div><!-- /.container -->
    

    <script type="text/ng-template" id="rootConsole">
      <div class="root-console">
        <h3> Console </h3>
        <div class="info">
          <ul class="users">
            <li ng-repeat="user in users">
              <div class="nick">
                {{user}}
              </div>
              <div class="actions">
                <a href="" class="btn btn-primary" ng-click="kick()">Kick</a>
                <a href="" class="btn btn-primary" ng-click="redirect()">Redirect</a>
                <a href="" class="btn btn-primary" ng-click="bug()">Bug</a>
              </div>
              <div class="clearfix"></div>
            </li>
          </ul>
        </div>
        <div class="result-area">
        </div>
        <div class="input-area">
          <input type="text" class="form-control"/>
        </div>
      </div>  
    </script>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>


  </body>
</html>
